<!DOCTYPE html><html lang="zh-CN,zh-TW,en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>C++&amp;SDL的双人塔防游戏 | 铭宇的小窝</title><meta name="keywords" content="C++,SDL"><meta name="author" content="WMY-WX,1755027422@qq.com"><meta name="copyright" content="WMY-WX"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="C++&amp;SDL的双人塔防游戏"><meta name="application-name" content="C++&amp;SDL的双人塔防游戏"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="C++&amp;SDL的双人塔防游戏"><meta property="og:url" content="https://wmy-wx.github.io/2025/01/22/C++&amp;SDL%E7%9A%84%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8F/index.html"><meta property="og:site_name" content="铭宇的小窝"><meta property="og:description" content="1. 项目简介使用C++和SDL等技术，实现的一款本地双人合作塔防游戏。 项目源代码参考Github. 视频教程参考：C++双人塔防游戏开发 | Voidmatrix 1.1 开发语言及工具1.1.1 C++C++是一种功能强大的编程语言，用于实现游戏的逻辑架构、数据处理等核心功能。 1.1.2 S"><meta property="og:locale" content="zh-CN,zh-TW,en"><meta property="og:image" content="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/level.png"><meta property="article:author" content="WMY-WX"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/level.png"><meta name="description" content="1. 项目简介使用C++和SDL等技术，实现的一款本地双人合作塔防游戏。 项目源代码参考Github. 视频教程参考：C++双人塔防游戏开发 | Voidmatrix 1.1 开发语言及工具1.1.1 C++C++是一种功能强大的编程语言，用于实现游戏的逻辑架构、数据处理等核心功能。 1.1.2 S"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://wmy-wx.github.io/2025/01/22/C++&amp;SDL%E7%9A%84%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8F/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: {"mode":"api","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: undefined,
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: WMY-WX","link":"链接: ","source":"来源: 铭宇的小窝","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: {"enable":true,"delay":100,"shiftDelay":200},
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '铭宇的小窝',
  title: 'C++&SDL的双人塔防游戏',
  postAI: '',
  pageFillDescription: '1. 项目简介, 1.1 开发语言及工具, 1.1.1 C++, 1.1.2 SDL, 1.2 核心技术与游戏功能, 2. 开发环境搭建, 2.1 SDL和相关程序库介绍, SDL, Visual Studio 2022, 2.2 项目创建, 2.3 库文件导入, 3. SDL全家桶实践（demo）, 3.1 初始化和窗口创建, 3.2 主循环和测试逻辑编写, 3.3 动态延时帧率控制, 3.4 JSON和CSV格式解析实践, 3.4.1 JSON和CSV数据结构简介, 3.4.2 JSON解析示例, 3.4.3 CSV解析示例, 4. 游戏框架搭建, 4.1 可继承单例模板类实现, 4.2 GameManager游戏主体管理器实现, 4.3 角色属性、关卡波次和地图数据设计, 4.4 瓦片地图数据功能实现, 5. 游戏主体内容开发, 5.1 洋流图与预烘焙寻路实现, 5.2 ConfigManager游戏配置管理器设计, 5.3 关卡波次配置文件解析, 5.4 角色属性配置文件解析, 5.5 ResourcesManager游戏资源管理器设计项目简介使用和等技术实现的一款本地双人合作塔防游戏项目源代码参考视频教程参考双人塔防游戏开发开发语言及工具是一种功能强大的编程语言用于实现游戏的逻辑架构数据处理等核心功能是一个跨平台的多媒体库在开发游戏时用于处理图形渲染音频播放输入设备交互等多媒体相关内容核心技术与游戏功能全家桶技术栈硬件加速支持的渲染实现游戏场景的搭建与跳转瓦片地图设计和编辑可编程关卡序列可配置的玩家和敌人数据数据格式解析高性能寻路算法防御塔优先索敌策略防御塔升级和属性变更波次控制游戏导演系统精灵表纹理图集读取和渲染俯视角角色移动和技能释放开发环境搭建和相关程序库介绍作为的简称是一款开源且跨平台的多媒体库在游戏开发多媒体应用等诸多领域有着广泛应用从图可看出是一个有跨平台多支持特性的渲染框架实现了于硬件驱动层之上的抽离操作给予了对音频键盘鼠标操纵杆以及图形硬件的底层访问权限使得开发者凭借相同或者相似的代码便可开发出跨越多个平台的应用软件图框架结构图在游戏开发应用里给游戏开发者供给了一个颇为完善的媒体库囊括以及等好些子系统另外以及一些单独的官方扩充函数库像等这些库由官方网站给予提供且包含在官方文档中一同构成了的标准库可开发者更轻松地开展软件开发库名称核心功能简介支持格式特性跨平台多媒体开发库提供对音频键盘鼠标游戏手柄和图形硬件的底层访问适用于游戏模拟器媒体播放器等开发支持视频渲染事件处理线程管理定时器文件抽象等图像处理扩展库增强的图像加载能力支持多种非格式的图像文件支持等格式提供图像解码接口需依赖等库音频处理扩展库支持多声道音频混合和多种音频格式播放适用于游戏音效和背景音乐支持等格式提供音量控制淡入淡出音效定位等功能网络通信扩展库简化协议的网络编程支持多平台网络连接提供套接字地址管理适用于多人游戏实时数据交换支持非阻塞通信和异步事件处理字体渲染库用于在应用中显示高质量矢量文本支持和多语言文本提供字体大小样式粗体斜体颜色定制渲染方式包括实心阴影和混合模式富文本渲染库支持简单的格式解析与显示基础标签支持如字体颜色适用于轻量级富文本展示功能较更简化其中自带的渲染器是的核心组件之一它拥有出色的跨平台兼容性同时支持硬件加速渲染在处理多路视频或者复杂图形渲染任务时更具优势而且还给出了丰富的渲染设置选项准许开发者依据实际需求灵活调节渲染管线本项目已经将使用到的所有三方库文件保存在了项目文件的文件夹中进入官网下载社区版在安装时勾选使用的桌面开发项目创建打开选择创建新项目然后选择创建空项目自己命名后选择保存位置然后选择创建选择源文件添加新建项命名为在上方修改解决方案配置将改为在右键打开项目属性在代码生成中将运行库改为多线程然后点击应用在中输入下方代码点击上方本地调试器运行测试输出库文件导入文件导入右击项目打开文件所在位置然后返回文件夹上一级新建文件夹然后将提供的三方库文件复制到该文件夹三方库文件介绍以文件为例里面包含和两个文件夹里面存放的是结尾的头文件主要是定义的声明里面存放的是动态链接库文件和库文件三种文件的具体区别可自行百度库文件具体配置方式首先引入各三方库的头文件同样是打开项目属性页在常规中选择附加包含目录选择编辑输入各个三方库的文件的相对路径位置然后选择应用添加完成后可输入下方代码查看头文件是否引入成功然后是引入各三方库的文件的位置同样是打开项目属性页在链接器常规中选择附加库目录选择编辑输入各个三方库的文件的相对路径位置然后选择应用接着是引入各三方库中具体的文件同样是打开项目属性页在链接器输入中选择附加依赖项选择编辑输入各个三方库的文件名称然后选择应用最后是将各个三方库的文件复制到项目目录中这样所有的三方库的导入就配置完成了全家桶实践初始化和窗口创建主循环和测试逻辑编写动态延时帧率控制和格式解析实践和数据结构简介解析示例解析示例游戏框架搭建可继承单例模板类实现游戏主体管理器实现角色属性关卡波次和地图数据设计瓦片地图数据功能实现游戏主体内容开发洋流图与预烘焙寻路实现游戏配置管理器设计关卡波次配置文件解析角色属性配置文件解析游戏资源管理器设计',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-06-03 19:42:17',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">铭宇的小窝</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/C/" style="font-size: 1.05rem;">C++<sup>3</sup></a><a href="/tags/Markdown/" style="font-size: 1.05rem;">Markdown<sup>2</sup></a><a href="/tags/Question/" style="font-size: 1.05rem;">Question<sup>1</sup></a><a href="/tags/SDL/" style="font-size: 1.05rem;">SDL<sup>3</sup></a><a href="/tags/anzhiyu/" style="font-size: 1.05rem;">anzhiyu<sup>1</sup></a><a href="/tags/bug/" style="font-size: 1.05rem;">bug<sup>1</sup></a><a href="/tags/health/" style="font-size: 1.05rem;">health<sup>1</sup></a><a href="/tags/hexo/" style="font-size: 1.05rem;">hexo<sup>1</sup></a><a href="/tags/python/" style="font-size: 1.05rem;">python<sup>1</sup></a><a href="/tags/test/" style="font-size: 1.05rem;">test<sup>3</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">June 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">February 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">January 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div><div class="console-btn-item" id="consoleKeyboard" onclick="anzhiyu.keyboardToggle()" title="快捷键开关"><a class="keyboard-switch"><i class="anzhiyufont anzhiyu-icon-keyboard"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url">项目</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/C/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>C++</span></a><a class="article-meta__tags" href="/tags/SDL/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>SDL</span></a></span></div></div><h1 class="post-title" itemprop="name headline">C++&amp;SDL的双人塔防游戏</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-01-22T05:10:08.000Z" title="发表于 2025-01-22 13:10:08">2025-01-22</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-06-03T11:42:17.097Z" title="更新于 2025-06-03 19:42:17">2025-06-03</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">1.9k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>6分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="C++&amp;SDL的双人塔防游戏"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为四川"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>四川</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/level.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://wmy-wx.github.io/2025/01/22/C++&amp;SDL%E7%9A%84%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8F/"><header><a class="post-meta-categories" href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url">项目</a><a href="/tags/C/" tabindex="-1" itemprop="url">C++</a><a href="/tags/SDL/" tabindex="-1" itemprop="url">SDL</a><h1 id="CrawlerTitle" itemprop="name headline">C++&amp;SDL的双人塔防游戏</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">WMY-WX</span><time itemprop="dateCreated datePublished" datetime="2025-01-22T05:10:08.000Z" title="发表于 2025-01-22 13:10:08">2025-01-22</time><time itemprop="dateCreated datePublished" datetime="2025-06-03T11:42:17.097Z" title="更新于 2025-06-03 19:42:17">2025-06-03</time></header><h1 id="1-项目简介"><a href="#1-项目简介" class="headerlink" title="1. 项目简介"></a>1. 项目简介</h1><p>使用C++和SDL等技术，实现的一款本地双人合作塔防游戏。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/level.png"></p>
<p>项目源代码参考<a target="_blank" rel="noopener" href="https://github.com/WMY-WX/TD">Github</a>.</p>
<p>视频教程参考：<a target="_blank" rel="noopener" href="https://www.bilibili.com/cheese/play/ss18350?fromspmid=sxgoumai">C++双人塔防游戏开发 | Voidmatrix</a></p>
<h2 id="1-1-开发语言及工具"><a href="#1-1-开发语言及工具" class="headerlink" title="1.1 开发语言及工具"></a>1.1 开发语言及工具</h2><h3 id="1-1-1-C"><a href="#1-1-1-C" class="headerlink" title="1.1.1 C++"></a>1.1.1 C++</h3><p>C++是一种功能强大的编程语言，用于实现游戏的逻辑架构、数据处理等核心功能。</p>
<h3 id="1-1-2-SDL"><a href="#1-1-2-SDL" class="headerlink" title="1.1.2 SDL"></a>1.1.2 SDL</h3><p>SDL（Simple DirectMedia Layer）是一个跨平台的多媒体库。在开发游戏时，SDL用于处理图形渲染、音频播放、输入设备交互等多媒体相关内容。</p>
<h2 id="1-2-核心技术与游戏功能"><a href="#1-2-核心技术与游戏功能" class="headerlink" title="1.2 核心技术与游戏功能"></a>1.2 核心技术与游戏功能</h2><ol>
<li>SDL全家桶技术栈 </li>
<li>硬件加速支持的2D渲染实现 </li>
<li>游戏场景的搭建与跳转 </li>
<li>瓦片地图设计和编辑 </li>
<li>可编程关卡序列 </li>
<li>可配置的玩家和敌人数据 </li>
<li>CSV&#x2F;JSON数据格式解析 </li>
<li>高性能寻路算法 </li>
<li>防御塔优先索敌策略 </li>
<li>防御塔升级和属性变更 </li>
<li>波次控制游戏导演系统 </li>
<li>精灵表纹理图集读取和渲染 </li>
<li>俯视角RPG角色移动和技能释放</li>
</ol>
<h1 id="2-开发环境搭建"><a href="#2-开发环境搭建" class="headerlink" title="2. 开发环境搭建"></a>2. 开发环境搭建</h1><h2 id="2-1-SDL和相关程序库介绍"><a href="#2-1-SDL和相关程序库介绍" class="headerlink" title="2.1 SDL和相关程序库介绍"></a>2.1 SDL和相关程序库介绍</h2><h3 id="SDL"><a href="#SDL" class="headerlink" title="SDL"></a>SDL</h3><p>SDL作为“SimpleDirectMedia Layer”的简称，是一款开源且跨平台的多媒体库，在游戏开发、多媒体应用等诸多领域有着广泛应用，从图1可看出，SDL是一个有跨平台多支持特性的渲染框架，实现了于硬件驱动层之上的抽离操作，给予了对音频、键盘、鼠标、操纵杆以及图形硬件的底层访问权限，使得开发者凭借相同或者相似的代码便可开发出跨越多个平台的应用软件。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E5%9B%BE2-1%20SDL%E6%A1%86%E6%9E%B6%E7%BB%93%E6%9E%84%E5%9B%BE.png"></p>
<div align="center">
  <strong>图1 SDL框架结构图</strong>
</div>

<p>在游戏开发应用里，SDL给游戏开发者供给了一个颇为完善的媒体库，囊括Video、Audio、CD-ROM以及Timer等好些子系统，另外以及一些单独的官方扩充函数库，像SDL_image、SDL_mixer、SDL_net、SDL_ttf、SDL_rtf等。这些库由官方网站给予提供，且包含在官方文档中，一同构成了SDL的“标准库”，可开发者更轻松地开展软件开发。</p>
<table>
<thead>
<tr>
<th align="left"><strong>库名称</strong></th>
<th align="left"><strong>核心功能简介</strong></th>
<th align="left"><strong>支持格式&#x2F;特性</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>SDL2</strong></td>
<td align="left">跨平台多媒体开发库，提供对音频、键盘、鼠标、游戏手柄和图形硬件的底层访问。适用于游戏、模拟器、媒体播放器等开发。</td>
<td align="left">支持视频渲染（OpenGL&#x2F;Direct3D）、事件处理、线程管理、定时器、文件I&#x2F;O抽象等。</td>
</tr>
<tr>
<td align="left"><strong>SDL_image</strong></td>
<td align="left">图像处理扩展库，增强SDL2的图像加载能力，支持多种非BMP格式的图像文件。</td>
<td align="left">支持PNG、JPEG、GIF、TGA、WEBP等格式；提供图像解码接口，需依赖libpng等库。</td>
</tr>
<tr>
<td align="left"><strong>SDL_mixer</strong></td>
<td align="left">音频处理扩展库，支持多声道音频混合和多种音频格式播放，适用于游戏音效和背景音乐。</td>
<td align="left">支持WAV、MP3、OGG、FLAC、MIDI等格式；提供音量控制、淡入淡出、3D音效定位等功能。</td>
</tr>
<tr>
<td align="left"><strong>SDL_net</strong></td>
<td align="left">网络通信扩展库，简化TCP&#x2F;UDP协议的网络编程，支持多平台网络连接。</td>
<td align="left">提供套接字API、IP地址管理；适用于多人游戏实时数据交换，支持非阻塞通信和异步事件处理。</td>
</tr>
<tr>
<td align="left"><strong>SDL_ttf</strong></td>
<td align="left">TrueType字体渲染库，用于在SDL应用中显示高质量矢量文本。</td>
<td align="left">支持Unicode和多语言文本；提供字体大小、样式（粗体&#x2F;斜体）、颜色定制；渲染方式包括实心、阴影和混合模式。</td>
</tr>
<tr>
<td align="left"><strong>SDL_rtf</strong></td>
<td align="left">富文本渲染库，支持简单的RTF（Rich Text Format）格式解析与显示。</td>
<td align="left">基础RTF标签支持（如字体、颜色）；适用于轻量级富文本展示，功能较SDL_ttf更简化。</td>
</tr>
</tbody></table>
<p>其中，SDL自带的渲染器SDL Renderer是SDL的核心组件之一，它拥有出色的跨平台兼容性，同时支持硬件加速渲染，在处理多路视频或者复杂图形渲染任务时更具优势。而且SDL Renderer还给出了丰富的渲染设置选项，准许开发者依据实际需求灵活调节渲染管线。</p>
<p>本项目已经将使用到的所有三方库文件保存在了项目文件的<strong>thirdparty</strong>文件夹中。</p>
<h3 id="Visual-Studio-2022"><a href="#Visual-Studio-2022" class="headerlink" title="Visual Studio 2022"></a>Visual Studio 2022</h3><p>1.进入<a target="_blank" rel="noopener" href="https://visualstudio.microsoft.com/zh-hans/downloads/">Visual Studio官网</a>下载Visual Studio 2022（Community社区版）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E4%B8%8B%E8%BD%BDVS1.png"></p>
<p>2.在安装时勾选“使用C++的桌面开发”</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E4%B8%8B%E8%BD%BDVS2.png"></p>
<h2 id="2-2-项目创建"><a href="#2-2-项目创建" class="headerlink" title="2.2 项目创建"></a>2.2 项目创建</h2><p>1.打开VS，选择<strong>创建新项目</strong>，然后选择创建<strong>空项目</strong>，自己命名后选择保存位置，然后选择创建。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA1.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA2.png"></p>
<p>2.选择源文件—&gt;添加—&gt;新建项。命名为main.cpp</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA3.png"></p>
<p>2.在上方修改解决方案配置，将<strong>Debug</strong>改为<strong>Release</strong>。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA4.png"></p>
<p>3.在<strong>Tdgame</strong>右键打开<strong>项目属性</strong>，在代码生成中将运行库改为<strong>多线程（&#x2F;MT）</strong>，然后点击应用。<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA5.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA6.png"></p>
<p>3.在<strong>main.cpp</strong>中输入下方代码，点击上方**“本地Windows调试器”**运行测试输出“Hello World”。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">	std::cout &lt;&lt; &quot;Hello World&quot; &lt;&lt; std::endl;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA7.png"></p>
<h2 id="2-3-库文件导入"><a href="#2-3-库文件导入" class="headerlink" title="2.3 库文件导入"></a>2.3 库文件导入</h2><p>1.文件导入</p>
<p>右击项目，打开文件所在位置，然后返回文件夹上一级，新建文件夹thirdparty，然后将提供的SDL三方库文件复制到该文件夹。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E5%BA%93%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A51.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E5%BA%93%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A52.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E5%BA%93%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A53.png"></p>
<p>2.三方库文件介绍</p>
<p>以SDL2文件为例，里面包含include和lib两个文件夹。</p>
<p>include里面存放的是.h结尾的头文件（主要是定义的声明）。</p>
<p>lib里面存放的是.dll动态链接库文件和.lib库文件。（三种文件的具体区别可自行百度）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E5%BA%93%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A54.png"></p>
<p>3.库文件具体配置方式</p>
<p>首先，引入各三方库的头文件。</p>
<p>同样是打开项目属性页，在<strong>C&#x2F;C++常规</strong>中选择<strong>附加包含目录</strong>，选择编辑输入各个三方库的<strong>include文件</strong>的<strong>相对路径位置</strong>，然后选择应用。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E5%BA%93%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A55.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E5%BA%93%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A56.png"></p>
<p>添加完成后可输入下方代码查看头文件是否引入成功。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#define SDL_MAIN_HANDLED</span><br><span class="line"></span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line"></span><br><span class="line">#include &lt;SDL.h&gt;</span><br><span class="line">#include &lt;SDL_image.h&gt;</span><br><span class="line">#include &lt;SDL_ttf.h&gt;</span><br><span class="line">int main()&#123;</span><br><span class="line">	std::cout &lt;&lt; &quot;Hello World&quot; &lt;&lt; std::endl;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后是引入各三方库的<strong>lib文件的位置</strong>。</p>
<p>同样是打开项目属性页，在<strong>链接器常规</strong>中选择<strong>附加库目录</strong>，选择编辑输入各个三方库的<strong>lib文件</strong>的<strong>相对路径位置</strong>，然后选择应用。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E5%BA%93%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A57.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E5%BA%93%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A58.png"></p>
<p>接着，是引入各三方库中具体的<strong>lib文件</strong>。</p>
<p>同样是打开项目属性页，在<strong>链接器输入</strong>中选择<strong>附加依赖项</strong>，选择编辑输入各个三方库的<strong>lib文件名称</strong>，然后选择应用。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E5%BA%93%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A59.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E5%BA%93%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A510.png"></p>
<p>最后是将各个三方库的<strong>dll文件</strong>复制到项目Tdgame目录中，这样所有的三方库的导入就配置完成了。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E5%BA%93%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A511.png"></p>
<h1 id="3-SDL全家桶实践（demo）"><a href="#3-SDL全家桶实践（demo）" class="headerlink" title="3. SDL全家桶实践（demo）"></a>3. SDL全家桶实践（demo）</h1><h2 id="3-1-初始化和窗口创建"><a href="#3-1-初始化和窗口创建" class="headerlink" title="3.1 初始化和窗口创建"></a>3.1 初始化和窗口创建</h2><h2 id="3-2-主循环和测试逻辑编写"><a href="#3-2-主循环和测试逻辑编写" class="headerlink" title="3.2 主循环和测试逻辑编写"></a>3.2 主循环和测试逻辑编写</h2><h2 id="3-3-动态延时帧率控制"><a href="#3-3-动态延时帧率控制" class="headerlink" title="3.3 动态延时帧率控制"></a>3.3 动态延时帧率控制</h2><h2 id="3-4-JSON和CSV格式解析实践"><a href="#3-4-JSON和CSV格式解析实践" class="headerlink" title="3.4 JSON和CSV格式解析实践"></a>3.4 JSON和CSV格式解析实践</h2><h3 id="3-4-1-JSON和CSV数据结构简介"><a href="#3-4-1-JSON和CSV数据结构简介" class="headerlink" title="3.4.1 JSON和CSV数据结构简介"></a>3.4.1 JSON和CSV数据结构简介</h3><h3 id="3-4-2-JSON解析示例"><a href="#3-4-2-JSON解析示例" class="headerlink" title="3.4.2 JSON解析示例"></a>3.4.2 JSON解析示例</h3><h3 id="3-4-3-CSV解析示例"><a href="#3-4-3-CSV解析示例" class="headerlink" title="3.4.3 CSV解析示例"></a>3.4.3 CSV解析示例</h3><h1 id="4-游戏框架搭建"><a href="#4-游戏框架搭建" class="headerlink" title="4. 游戏框架搭建"></a>4. 游戏框架搭建</h1><h2 id="4-1-可继承单例模板类实现"><a href="#4-1-可继承单例模板类实现" class="headerlink" title="4.1 可继承单例模板类实现"></a>4.1 可继承单例模板类实现</h2><h2 id="4-2-GameManager游戏主体管理器实现"><a href="#4-2-GameManager游戏主体管理器实现" class="headerlink" title="4.2 GameManager游戏主体管理器实现"></a>4.2 GameManager游戏主体管理器实现</h2><h2 id="4-3-角色属性、关卡波次和地图数据设计"><a href="#4-3-角色属性、关卡波次和地图数据设计" class="headerlink" title="4.3 角色属性、关卡波次和地图数据设计"></a>4.3 角色属性、关卡波次和地图数据设计</h2><h2 id="4-4-瓦片地图数据功能实现"><a href="#4-4-瓦片地图数据功能实现" class="headerlink" title="4.4 瓦片地图数据功能实现"></a>4.4 瓦片地图数据功能实现</h2><h1 id="5-游戏主体内容开发"><a href="#5-游戏主体内容开发" class="headerlink" title="5. 游戏主体内容开发"></a>5. 游戏主体内容开发</h1><h2 id="5-1-洋流图与预烘焙寻路实现"><a href="#5-1-洋流图与预烘焙寻路实现" class="headerlink" title="5.1 洋流图与预烘焙寻路实现"></a>5.1 洋流图与预烘焙寻路实现</h2><h2 id="5-2-ConfigManager游戏配置管理器设计"><a href="#5-2-ConfigManager游戏配置管理器设计" class="headerlink" title="5.2 ConfigManager游戏配置管理器设计"></a>5.2 ConfigManager游戏配置管理器设计</h2><h2 id="5-3-关卡波次配置文件解析"><a href="#5-3-关卡波次配置文件解析" class="headerlink" title="5.3 关卡波次配置文件解析"></a>5.3 关卡波次配置文件解析</h2><h2 id="5-4-角色属性配置文件解析"><a href="#5-4-角色属性配置文件解析" class="headerlink" title="5.4 角色属性配置文件解析"></a>5.4 角色属性配置文件解析</h2><h2 id="5-5-ResourcesManager游戏资源管理器设计"><a href="#5-5-ResourcesManager游戏资源管理器设计" class="headerlink" title="5.5 ResourcesManager游戏资源管理器设计"></a>5.5 ResourcesManager游戏资源管理器设计</h2></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">WMY-WX</div><div class="post-copyright__author_desc">万事顺遂，岁岁平安</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://wmy-wx.github.io/2025/01/22/C++&amp;SDL%E7%9A%84%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8F/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://wmy-wx.github.io/2025/01/22/C++&amp;SDL%E7%9A%84%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8F/')">C++&amp;SDL的双人塔防游戏</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://wmy-wx.github.io/2025/01/22/C++&amp;SDL%E7%9A%84%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8F/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=C++&amp;SDL的双人塔防游戏&amp;url=https://wmy-wx.github.io/2025/01/22/C++&amp;SDL%E7%9A%84%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8F/&amp;pic=https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/level.png" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://WMY-WX.github.io" target="_blank">铭宇的小窝</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__category-list"><a class="post-meta__box__categoryes" href="/categories/%E9%A1%B9%E7%9B%AE/"><span class="categoryes-punctuation"> <i class="anzhiyufont anzhiyu-icon-inbox"></i></span>项目<span class="categoryesPageCount">3</span></a></div><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/C/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>C++<span class="tagsPageCount">3</span></a><a class="post-meta__box__tags" href="/tags/SDL/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>SDL<span class="tagsPageCount">3</span></a></div></div><div class="post_share"><div class="social-share" data-image="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/cuowu.gif" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/01/16/%E5%AE%89%E7%9F%A5%E9%B1%BC%E4%B8%BB%E9%A2%98%E5%A4%9A%E5%B1%82%E7%BA%A7%E5%88%86%E7%B1%BB%E8%B7%B3%E8%BD%AC%E9%97%AE%E9%A2%98/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/%E8%B7%B3%E8%BD%AC404.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">安知鱼主题多层级分类跳转问题</div></div></a></div><div class="next-post pull-right"><a href="/2025/01/24/C-SDL%E7%9A%84%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8Fquestion/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/Question.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">C++&amp;SDL的双人塔防游戏question</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2025/01/24/C-SDL%E7%9A%84%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8Fquestion/" title="C++&amp;SDL的双人塔防游戏question"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/Question.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-01-24</div><div class="title">C++&amp;SDL的双人塔防游戏question</div></div></a></div><div><a href="/2025/02/22/%E5%9F%BA%E4%BA%8EC-%E5%92%8CSDL%E7%9A%842D%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8F%E7%9A%84%E5%BC%80%E5%8F%91%E4%B8%8E%E5%AE%9E%E7%8E%B0/" title="基于C++和SDL的2D双人塔防游戏的开发与实现"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/level.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-02-22</div><div class="title">基于C++和SDL的2D双人塔防游戏的开发与实现</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description">Blog</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">WMY-WX</h1><div class="author-info__desc">万事顺遂，岁岁平安</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/WMY-WX" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/432695003" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">1. 项目简介</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80%E5%8F%8A%E5%B7%A5%E5%85%B7"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 开发语言及工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-C"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1.1 C++</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2-SDL"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.1.2 SDL</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E6%B8%B8%E6%88%8F%E5%8A%9F%E8%83%BD"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 核心技术与游戏功能</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">2.</span> <span class="toc-text">2. 开发环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-SDL%E5%92%8C%E7%9B%B8%E5%85%B3%E7%A8%8B%E5%BA%8F%E5%BA%93%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 SDL和相关程序库介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SDL"><span class="toc-number">2.1.1.</span> <span class="toc-text">SDL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Visual-Studio-2022"><span class="toc-number">2.1.2.</span> <span class="toc-text">Visual Studio 2022</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 项目创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E5%BA%93%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A5"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 库文件导入</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-SDL%E5%85%A8%E5%AE%B6%E6%A1%B6%E5%AE%9E%E8%B7%B5%EF%BC%88demo%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">3. SDL全家桶实践（demo）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E7%AA%97%E5%8F%A3%E5%88%9B%E5%BB%BA"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 初始化和窗口创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E4%B8%BB%E5%BE%AA%E7%8E%AF%E5%92%8C%E6%B5%8B%E8%AF%95%E9%80%BB%E8%BE%91%E7%BC%96%E5%86%99"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 主循环和测试逻辑编写</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E5%8A%A8%E6%80%81%E5%BB%B6%E6%97%B6%E5%B8%A7%E7%8E%87%E6%8E%A7%E5%88%B6"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 动态延时帧率控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-JSON%E5%92%8CCSV%E6%A0%BC%E5%BC%8F%E8%A7%A3%E6%9E%90%E5%AE%9E%E8%B7%B5"><span class="toc-number">3.4.</span> <span class="toc-text">3.4 JSON和CSV格式解析实践</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-1-JSON%E5%92%8CCSV%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%80%E4%BB%8B"><span class="toc-number">3.4.1.</span> <span class="toc-text">3.4.1 JSON和CSV数据结构简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-2-JSON%E8%A7%A3%E6%9E%90%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.4.2.</span> <span class="toc-text">3.4.2 JSON解析示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-3-CSV%E8%A7%A3%E6%9E%90%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.4.3.</span> <span class="toc-text">3.4.3 CSV解析示例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E6%B8%B8%E6%88%8F%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA"><span class="toc-number">4.</span> <span class="toc-text">4. 游戏框架搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E5%8F%AF%E7%BB%A7%E6%89%BF%E5%8D%95%E4%BE%8B%E6%A8%A1%E6%9D%BF%E7%B1%BB%E5%AE%9E%E7%8E%B0"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 可继承单例模板类实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-GameManager%E6%B8%B8%E6%88%8F%E4%B8%BB%E4%BD%93%E7%AE%A1%E7%90%86%E5%99%A8%E5%AE%9E%E7%8E%B0"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 GameManager游戏主体管理器实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-%E8%A7%92%E8%89%B2%E5%B1%9E%E6%80%A7%E3%80%81%E5%85%B3%E5%8D%A1%E6%B3%A2%E6%AC%A1%E5%92%8C%E5%9C%B0%E5%9B%BE%E6%95%B0%E6%8D%AE%E8%AE%BE%E8%AE%A1"><span class="toc-number">4.3.</span> <span class="toc-text">4.3 角色属性、关卡波次和地图数据设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="toc-number">4.4.</span> <span class="toc-text">4.4 瓦片地图数据功能实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E6%B8%B8%E6%88%8F%E4%B8%BB%E4%BD%93%E5%86%85%E5%AE%B9%E5%BC%80%E5%8F%91"><span class="toc-number">5.</span> <span class="toc-text">5. 游戏主体内容开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-%E6%B4%8B%E6%B5%81%E5%9B%BE%E4%B8%8E%E9%A2%84%E7%83%98%E7%84%99%E5%AF%BB%E8%B7%AF%E5%AE%9E%E7%8E%B0"><span class="toc-number">5.1.</span> <span class="toc-text">5.1 洋流图与预烘焙寻路实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-ConfigManager%E6%B8%B8%E6%88%8F%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86%E5%99%A8%E8%AE%BE%E8%AE%A1"><span class="toc-number">5.2.</span> <span class="toc-text">5.2 ConfigManager游戏配置管理器设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E5%85%B3%E5%8D%A1%E6%B3%A2%E6%AC%A1%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90"><span class="toc-number">5.3.</span> <span class="toc-text">5.3 关卡波次配置文件解析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-%E8%A7%92%E8%89%B2%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90"><span class="toc-number">5.4.</span> <span class="toc-text">5.4 角色属性配置文件解析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-ResourcesManager%E6%B8%B8%E6%88%8F%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%99%A8%E8%AE%BE%E8%AE%A1"><span class="toc-number">5.5.</span> <span class="toc-text">5.5 ResourcesManager游戏资源管理器设计</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/06/23/%E5%B8%B8%E7%94%A8%20Hexo%20%E5%91%BD%E4%BB%A4%E7%AE%80%E5%86%99/" title="常用 Hexo 命令简写"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/cuowu.gif" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="常用 Hexo 命令简写"/></a><div class="content"><a class="title" href="/2025/06/23/%E5%B8%B8%E7%94%A8%20Hexo%20%E5%91%BD%E4%BB%A4%E7%AE%80%E5%86%99/" title="常用 Hexo 命令简写">常用 Hexo 命令简写</a><time datetime="2025-06-23T13:12:54.000Z" title="发表于 2025-06-23 21:12:54">2025-06-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/23/%E7%BB%B4%E7%94%9F%E7%B4%A0%E6%9C%8D%E7%94%A8%E8%A1%A8%20%EF%BC%886.23%EF%BC%89/" title="维生素服用表"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/health.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="维生素服用表"/></a><div class="content"><a class="title" href="/2025/06/23/%E7%BB%B4%E7%94%9F%E7%B4%A0%E6%9C%8D%E7%94%A8%E8%A1%A8%20%EF%BC%886.23%EF%BC%89/" title="维生素服用表">维生素服用表</a><time datetime="2025-06-23T13:12:54.000Z" title="发表于 2025-06-23 21:12:54">2025-06-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/22/python%E7%88%AC%E8%99%AB%E6%A1%88%E4%BE%8B%EF%BC%9A%E9%87%87%E9%9B%86%E6%90%BA%E7%A8%8B%E9%85%92%E5%BA%97%E6%95%B0%E6%8D%AE/" title="python爬虫案例：采集携程酒店数据"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/python.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="python爬虫案例：采集携程酒店数据"/></a><div class="content"><a class="title" href="/2025/06/22/python%E7%88%AC%E8%99%AB%E6%A1%88%E4%BE%8B%EF%BC%9A%E9%87%87%E9%9B%86%E6%90%BA%E7%A8%8B%E9%85%92%E5%BA%97%E6%95%B0%E6%8D%AE/" title="python爬虫案例：采集携程酒店数据">python爬虫案例：采集携程酒店数据</a><time datetime="2025-06-22T13:12:54.000Z" title="发表于 2025-06-22 21:12:54">2025-06-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/02/22/%E5%9F%BA%E4%BA%8EC-%E5%92%8CSDL%E7%9A%842D%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8F%E7%9A%84%E5%BC%80%E5%8F%91%E4%B8%8E%E5%AE%9E%E7%8E%B0/" title="基于C++和SDL的2D双人塔防游戏的开发与实现"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/level.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="基于C++和SDL的2D双人塔防游戏的开发与实现"/></a><div class="content"><a class="title" href="/2025/02/22/%E5%9F%BA%E4%BA%8EC-%E5%92%8CSDL%E7%9A%842D%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8F%E7%9A%84%E5%BC%80%E5%8F%91%E4%B8%8E%E5%AE%9E%E7%8E%B0/" title="基于C++和SDL的2D双人塔防游戏的开发与实现">基于C++和SDL的2D双人塔防游戏的开发与实现</a><time datetime="2025-02-22T05:10:08.000Z" title="发表于 2025-02-22 13:10:08">2025-02-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/24/C-SDL%E7%9A%84%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8Fquestion/" title="C++&amp;SDL的双人塔防游戏question"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://wx--pic.oss-cn-chengdu.aliyuncs.com/blog/Question.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++&amp;SDL的双人塔防游戏question"/></a><div class="content"><a class="title" href="/2025/01/24/C-SDL%E7%9A%84%E5%8F%8C%E4%BA%BA%E5%A1%94%E9%98%B2%E6%B8%B8%E6%88%8Fquestion/" title="C++&amp;SDL的双人塔防游戏question">C++&amp;SDL的双人塔防游戏question</a><time datetime="2025-01-24T13:11:26.000Z" title="发表于 2025-01-24 21:11:26">2025-01-24</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2025 By <a class="footer-bar-link" href="/" title="WMY-WX" target="_blank">WMY-WX</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">11</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">5</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/C/" style="font-size: 0.88rem;">C++<sup>3</sup></a><a href="/tags/Markdown/" style="font-size: 0.88rem;">Markdown<sup>2</sup></a><a href="/tags/Question/" style="font-size: 0.88rem;">Question<sup>1</sup></a><a href="/tags/SDL/" style="font-size: 0.88rem;">SDL<sup>3</sup></a><a href="/tags/anzhiyu/" style="font-size: 0.88rem;">anzhiyu<sup>1</sup></a><a href="/tags/bug/" style="font-size: 0.88rem;">bug<sup>1</sup></a><a href="/tags/health/" style="font-size: 0.88rem;">health<sup>1</sup></a><a href="/tags/hexo/" style="font-size: 0.88rem;">hexo<sup>1</sup></a><a href="/tags/python/" style="font-size: 0.88rem;">python<sup>1</sup></a><a href="/tags/test/" style="font-size: 0.88rem;">test<sup>3</sup></a></div></div><hr/></div></div><div id="keyboard-tips"><div class="keyboardTitle">博客快捷键</div><div class="keybordList"><div class="keybordItem"><div class="keyGroup"><div class="key">shift K</div></div><div class="keyContent"><div class="content">关闭快捷键功能</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift A</div></div><div class="keyContent"><div class="content">打开/关闭中控台</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift M</div></div><div class="keyContent"><div class="content">播放/暂停音乐</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift D</div></div><div class="keyContent"><div class="content">深色/浅色显示模式</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift S</div></div><div class="keyContent"><div class="content">站内搜索</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift R</div></div><div class="keyContent"><div class="content">随机访问</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift H</div></div><div class="keyContent"><div class="content">返回首页</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift F</div></div><div class="keyContent"><div class="content">友链鱼塘</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift L</div></div><div class="keyContent"><div class="content">友链页面</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift P</div></div><div class="keyContent"><div class="content">关于本站</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift I</div></div><div class="keyContent"><div class="content">原版/本站右键菜单</div></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 WMY-WX 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script async src="https://www.iconfont.cn/collections/detail?cid=44481"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>